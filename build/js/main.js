!function(){"use strict";var e=()=>{console.log("Map");const e=document.querySelector(".contact__address");var t=[98,106],s=[98,106],n=[-50,-106],o=[-50,-106],r=[52,53],i=[-27,-53];document.addEventListener("DOMContentLoaded",(function(){ymaps.ready((function(){var l=new ymaps.Map("map",{center:[59.938635,30.323118],zoom:19,controls:["zoomControl"],behaviors:["drag"]}),a=e.innerHTML;window.innerWidth>=768&&window.innerWidth<1370?(r=t,i=n):window.innerWidth>=1370&&(r=s,i=o);var c=new ymaps.Placemark([59.938635,30.323118],{hintContent:"Cat Energy",balloonContent:a},{iconLayout:"default#image",iconImageHref:"img/map-pin.png",iconImageSize:r,iconImageOffset:i});l.geoObjects.add(c)}));var l=setInterval((function(){let e=document.querySelector(".ymaps-2-1-79-gototech");e&&(e.parentNode.removeChild(e),clearInterval(l))}),200)}))},t=()=>{console.log("Menu");const e=document.querySelector(".nav"),t=document.querySelector(".header"),s=t.querySelector(".header__btn");function n(){t.classList.remove("header_active-js"),e.classList.remove("nav_active"),s.classList.remove("header__btn_close")}n(),s.addEventListener("click",(()=>{t.classList.contains("header_active-js")?n():(t.classList.add("header_active-js"),e.classList.add("nav_active"),s.classList.add("header__btn_close"))}))};document.documentElement.classList.remove("no-js"),(()=>{const s=document.documentURI;s.includes("catalog")?(e(),t()):s.includes("form")?(e(),t(),(()=>{const e=document.querySelector(".selection__form");e.addEventListener("submit",(t=>{t.preventDefault();let s=!0;const n=new FormData(e),o=n.get("name"),r=n.get("email"),i=n.get("phone"),l=n.get("weight"),a=e=>{seamless.scrollIntoView(e,{behavior:"smooth",block:"center"})};!function(t){const n=e.querySelector("[name=name]");if(0==t)return a(n),n.classList.add("error"),s=!1,!1;s=!0,n.classList.remove("error")}(o),s&&(function(t){const n=t,o=e.querySelector("[name=weight]");if(0==n)return a(o),o.classList.add("error"),s=!1,!1;s=!0,o.classList.remove("error")}(l),s&&(function(t){const n=e.querySelector("[name=email]");if(0==new RegExp(/^[a-zA-Z0-9][\-_\.\+\!\#\$\%\&\'\*\/\=\?\^\`\{\|]{0,1}([a-zA-Z0-9][\-_\.\+\!\#\$\%\&\'\*\/\=\?\^\`\{\|]{0,1})*[a-zA-Z0-9]@[a-zA-Z0-9][-\.]{0,1}([a-zA-Z][-\.]{0,1})*[a-zA-Z0-9]\.[a-zA-Z0-9]{1,}([\.\-]{0,1}[a-zA-Z]){0,}[a-zA-Z0-9]{0,}$/i).test(t))return a(n),n.classList.add("error"),s=!1,!1;s=!0,n.classList.remove("error")}(r),s&&(function(t){const n=e.querySelector("[name=phone]");if(0==/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/.test(t))return a(n),n.classList.add("error"),s=!1,!1;s=!0,n.classList.remove("error")}(i),s&&fetch("",{method:"POST",body:n}).then((e=>{if(400===e.status)throw new Error("Данные не отправлены :(");if(401===e.status)throw new Error("Неверные учетные данные :(");if(403===e.status)throw new Error("Доступ запрещен :(");if(404===e.status)throw new Error("Данные потерялись :(");if(500===e.status)throw new Error("Ошибочка на сервере :(");return e.json()})).then((e=>console.log("Пришло с сервера: "+JSON.stringify(e)))).catch((e=>{alert(e.message)})).finally(e.reset()))))}))})()):((()=>{console.log("Slideshow");const e=document.querySelector(".slider"),t=e.querySelector(".controls__btn_before"),s=e.querySelector(".controls__btn_after"),n=e.querySelector(".slider__before"),o=e.querySelector(".slider__after"),r=e.querySelector(".slider__handle"),i=e.querySelector(".conrols__line");var l=!1;window.innerWidth>=768&&(l=!0),window.addEventListener("resize",(()=>{window.innerWidth>=768?l=!0:(l=!1,r.style="",n.style="",o.style="")})),r.addEventListener("mousedown",(function(e){function t(e){if(e>=i.getBoundingClientRect().left&&e<=i.getBoundingClientRect().left+i.clientWidth){r.style.left=e-i.getBoundingClientRect().left+"px",r.style.top="50%";let t=i.clientWidth,s=100*(e-i.getBoundingClientRect().left)/t;n.style.width=s+"%",o.style.width=100-s+"%"}}function s(e){t(e.pageX)}l&&(r.style.position="absolute",t(e.pageX),document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",s),r.onmouseup=null})))})),t.addEventListener("click",(function(){o.style.width="0%",n.style.width="100%",r.style.left="100%",o.classList.contains("slider_show")&&o.classList.remove("slider_show"),n.classList.contains("slider_hide")&&n.classList.remove("slider_hide"),n.classList.add("slider_show"),o.classList.add("slider_hide"),r.style.width="5%",console.log("controlBefore")})),s.addEventListener("click",(function(){n.style.width="0%",o.style.width="100%",r.style.left="0%",n.classList.contains("slider_show")&&n.classList.remove("slider_show"),o.classList.contains("slider_hide")&&o.classList.remove("slider_hide"),o.classList.add("slider_show"),n.classList.add("slider_hide"),r.style.width="100%"}))})(),e(),t())})()}();
//# sourceMappingURL=main.js.map